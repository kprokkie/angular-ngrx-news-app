{"ast":null,"code":"import _classCallCheck from \"C:/Users/David/source/repos/angular-ngrx-news-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/David/source/repos/angular-ngrx-news-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Router } from '@angular/router';\nimport { Store, select } from '@ngrx/store';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { getAllSections } from '../../store/selectors/sections.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction SectionsComponent_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 2);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var section_r1 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/section/\", section_r1, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(section_r1);\n  }\n}\n\nexport var SectionsComponent = /*#__PURE__*/(function () {\n  var SectionsComponent = /*#__PURE__*/function () {\n    function SectionsComponent(store, router) {\n      _classCallCheck(this, SectionsComponent);\n\n      this.store = store;\n      this.router = router;\n      this.allSections = [];\n      this.unsubscribe = new Subject();\n    }\n\n    _createClass(SectionsComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.initSubscriptions();\n      }\n    }, {\n      key: \"ngDestroy\",\n      value: function ngDestroy() {\n        this.unsubscribe.next();\n        this.unsubscribe.complete();\n      }\n      /**\r\n       * Holding Subscriptions\r\n       */\n\n    }, {\n      key: \"initSubscriptions\",\n      value: function initSubscriptions() {\n        var _this = this;\n\n        // TWO ways to pick data\n        // 1. as a observable and directly bind to template using async pipe\n        // subsciption & unsubscription not required as angular does for us\n        this.allSections$ = this.store.select(getAllSections); // 2. subscribe the store and mutute the data if required before display\n\n        this.store.pipe(select(getAllSections)).pipe(takeUntil(this.unsubscribe)).subscribe(function (allSections) {\n          _this.allSections = allSections;\n        });\n      }\n      /**\r\n       * Navigate and load different section of news -- alternative way\r\n       * @param section - section news\r\n       */\n\n    }, {\n      key: \"sectionNews\",\n      value: function sectionNews(section) {\n        this.router.navigate(['/section', section]);\n      }\n    }]);\n\n    return SectionsComponent;\n  }();\n\n  SectionsComponent.ɵfac = function SectionsComponent_Factory(t) {\n    return new (t || SectionsComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  SectionsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SectionsComponent,\n    selectors: [[\"nyt-sections\"]],\n    decls: 3,\n    vars: 1,\n    consts: [[1, \"nyt-sections\"], [\"routerLinkActive\", \"active-section\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [\"routerLinkActive\", \"active-section\", 3, \"routerLink\"]],\n    template: function SectionsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"ul\");\n        i0.ɵɵtemplate(2, SectionsComponent_li_2_Template, 2, 2, \"li\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.allSections);\n      }\n    },\n    directives: [i3.NgForOf, i2.RouterLinkActive, i2.RouterLink],\n    styles: [\".nyt-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh;overflow-y:auto}.nyt-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.4rem 1rem;text-transform:capitalize;border-bottom:1px solid #ccc;cursor:pointer}.nyt-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active-section[_ngcontent-%COMP%]{background:#2f7395}\"]\n  });\n  return SectionsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}