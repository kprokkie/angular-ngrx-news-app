{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { Store, select } from '@ngrx/store';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { getFilterSubSection } from '../../store/selectors/news.selectors';\nimport * as fromActions from '../../store/actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./news-item/news-item.component\";\n\nfunction NewsComponent_nyt_news_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"nyt-news-item\", 2);\n  }\n\n  if (rf & 2) {\n    const news_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"news\", news_r1);\n  }\n}\n\nexport let NewsComponent = /*#__PURE__*/(() => {\n  class NewsComponent {\n    constructor(store, route) {\n      this.store = store;\n      this.route = route;\n      this.sectionNews = new Array();\n      this.unsubscribe = new Subject();\n    }\n\n    ngOnInit() {\n      this.initSubscriptions();\n    }\n\n    ngDestroy() {\n      this.unsubscribe.next();\n      this.unsubscribe.complete();\n    }\n    /**\r\n     * Holding Subscriptions\r\n     */\n\n\n    initSubscriptions() {\n      // 1. subscribe to route and dispatch an action to load news for selected section\n      this.route.params.pipe(takeUntil(this.unsubscribe)).subscribe(params => {\n        this.store.dispatch(new fromActions.LoadNewsSection(params.section));\n      }); // 2. subscribe to store and selector to load section news and filtered section news\n\n      this.store.pipe(select(getFilterSubSection)).pipe(takeUntil(this.unsubscribe)).subscribe(sectionNews => {\n        this.sectionNews = sectionNews;\n      });\n    }\n\n  }\n\n  NewsComponent.ɵfac = function NewsComponent_Factory(t) {\n    return new (t || NewsComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  NewsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NewsComponent,\n    selectors: [[\"nyt-news\"]],\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"nyt-news\"], [3, \"news\", 4, \"ngFor\", \"ngForOf\"], [3, \"news\"]],\n    template: function NewsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, NewsComponent_nyt_news_item_1_Template, 1, 1, \"nyt-news-item\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sectionNews);\n      }\n    },\n    directives: [i3.NgForOf, i4.NewsItemComponent],\n    styles: [\".nyt-news[_ngcontent-%COMP%]{padding:1rem}\"]\n  });\n  return NewsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}